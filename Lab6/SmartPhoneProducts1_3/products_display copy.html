<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="products-style.css">
    
    <title>Smartphone Products</title>
    
        <script>
            var store_name = "Monika Koko Allen";
            var hits = 0;
            var spins = 0;   
            var over_half = false;
            var first_name = "Monika";
            var last_name = "Allen"; 
            var initials = `${first_name[0]}. ${last_name[0]}.`;
            var full_name = first_name + last_name;
            const name_header = `<header><h1 style="font-size: 3em"><b>${first_name}</b> <i>${last_name}</i></h1></header>`;
            const image = document.getElementByID("myImage");
        </script>
    
    <h1 
    style="font-size: 5em"><b>Monika</b> <i>Allen</i>'s
    </h1>
        
        <script>
            s_name.innerHTML = store_name;
        </script>
   
    <p style="text-align: center; font-weight: bold;">
        Hits:<span id="hits_span">0</span>
        Spins:<span id="spins_span">0</span>
        You win:<span id="win_span">pending...</span>
    </p>

    <p>Hit/Spin:<span id="hit_spin_span">0</span>
    </p>
        
</head>
        
<body>
    <div><main>
        
        <section class="item" onmouseover="
                if(this.className == 'item' && !this.className.includes('rotate')) {
                    this.className='item rotate';
                    spins++;
                    spins_span.innerHTML = spins;
                   
                    over_half = over_half || (spins < 2*hits) && (hits < spins);
                    // -- Winning progress depends on hits/spins
                    hits_spins_ratio = hits/spins;
                    hit_spin_span.innerHTML = hits_spins_ratio.toFixed(2);
                    if (hits_spins_ratio > 0 && hits_spins_ratio < 0.25) {
                        progress = 'On your way!';
                    }
                    else if (hits_spins_ratio >= 0.25 && hits_spins_ratio < 0.5) {
                            progress = 'Almost there!';
                    }
                    else if (hits_spins_ratio >= 0.5 && hits < spins) {
                            progress = 'You win!';
                    }
                    else {
                        progress = 'Get going!' ;
                    }
                    win_span.innerHTML = progress;
                }
                "
                onclick="
                if(this.className.includes('rotate')) {
                    this.className = 'item';
                hits++;
                hits_span.innerHTML = hits;
                over_half ||= (spins < 2*hits) && (hits < spins);
                    hits_spins_ratio = hits/spins;
                    hit_spin_span.innerHTML = hits_spins_ratio.toFixed(2);
                    if (hits_spins_ratio > 0 && hits_spins_ratio < 0.25 ) {
                        progress = 'On your way!';
                    }
                    else if (hits_spins_ratio >= 0.25 && hits_spins_ratio < 0.5) {
                            progress = 'Almost there!';
                    }
                    else if (hits_spins_ratio >= 0.5 && hits < spins) {
                            progress = 'You win!';
                    }
                    else {
                        progress = 'Get going!' ;
                    }
                    win_span.innerHTML = progress;
                }
                else{
                    this.className = 'item rotate';
                }
            ">
                <h2>HTC</h2>
                <p>$40.00</p>
                <img id="HTC_img" src="http://dport96.github.io/ITM352/morea/080.flow-control-II/HTC.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Apple</h2>
                <p>$75.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/iphone-3gs.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Nokia</h2>
                <p>$35.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Nokia.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Samsung</h2>
                <p>$45.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Samsung.jpg">
            </section>

            <section class="item" onmouseover="this.className='item rotate';" onclick="this.className='item';">
                <h2>Blackberry</td>
                </h2>
                <p>$10.00</p>
                <img src="http://dport96.github.io/ITM352/morea/080.flow-control-II/Blackberry.jpg">
            </section>

        </main>
    </div>
    <footer>
        <h1>
            Your One Stop For Used Phones
        </h1>
    </footer>
</body>

</html>
    
    </main></div>  
</body>

<footer> 
    <h1>
    Your One Stop Phone Shop -
    <script>document.write(store_name)</script>
    </h1>
   <script>
    var line = 1;
    var now = new Date();
    var hours = now.getHours();
    var minutes = now.GetMinutes();
    var amp_pm = (hours < 12) ? 'AM' : 'PM';
    var hours_12h = (hours + 11) % 12 + 1;

document.write(`
    <table border="1" style="margin-left: auto; margin-right: auto; text-align: center;">
        <thead>
            <tr>
                <th colspan="2">${initials}'s One Stop For Used Phones</th>
            </tr>
        <tbody>
            <tr>
                <th colspan="2">.</th>
            </tr>
            <tr>
                <td>${line++}.</td>
            <td>
                <br>"Copyright @ ${first_name} ${last_name}"
            </td>
        </tr>
        <tr>
            <td>${line++}.</td>
            <td>${now.getMonth()}:${now.getDate()}:${now.getFullYear()}</td>
        </tr>
        <tr>
            <td>${line++}.</td>
            <td>${hours_12h}:${minutes} ${am_pm}</td>
        </tr>
        </tbody>
    </table>
    `);
</script>
</footer>

</html>
